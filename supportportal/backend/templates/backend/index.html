{% load staticfiles %}
{% load common_tags %}

{% block start_html %}
 <!DOCTYPE html>
 <html lang="en"> 
{% endblock start_html %}

{% block head %}
  <head>
    {% block meta %}
     <title>Cybercon | Support Portal {% block sitetitle %}{% endblock %}</title>
     <meta charset="utf-8" />
     <meta content="width=device-width, initial-scale=1.0" name="viewport" />
     <meta content="Cybercon Support Portal" name="description" />
     <meta content="Benton Snyder" name="author" />
    {% endblock meta %}

    {% block base_css %}
     <link rel="shortcut icon" href="{% static '/assets/favicon.ico' %}" />
     <!-- BEGIN STYLES -->
      <link href="//netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.min.css" rel="stylesheet">
      <link href="//netdna.bootstrapcdn.com/bootswatch/3.1.1/cosmo/bootstrap.min.css" rel="stylesheet">
     <!-- END STYLES -->   
    {% endblock base_css %}
   
    {% block css %}{% endblock %}

     <style>
      .page-head { border-bottom: 1px solid black; margin-bottom: 20px; }
      .page-head h3 { padding: 0; margin: 0; display: inline; }

      .preview-module { text-align: center; font-size: 8px; height: 100px;}
     </style>


    
    
    {% block base_top_js %}
     <script src="//ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>
     <script type="text/javascript">
        jQuery(document).ready(function() {    
          getKnowledgebaseTags();
          getKnowledgebaseCategories();
          {% block jquery_document_ready %}{% endblock %}
        });

        // Default Error Callback function for AJAX calls
        function defaultErrorCallback(xhr, ajaxOptions, thrownError) {
            $("#flash-message").fadeIn();
            switch (xhr.status) {
                case 403:  // forbidden
                    $("#flash-message").html('<div class="alert alert-danger">Illegal request: '+xhr.responseText+'</div>');
                default:
                  $("#flash-message").html('<div class="alert alert-danger">Server returned error.</div>');                          
            }
        }            

        // Django CSRF protection
        function sameOrigin(url) {
          // test that a given url is a same-origin URL
          // url could be relative or scheme relative or absolute
          var host = document.location.host; // host + port
          var protocol = document.location.protocol;
          var sr_origin = '//' + host;
          var origin = protocol + sr_origin;
          // Allow absolute or scheme relative URLs to same origin
          return (url == origin || url.slice(0, origin.length + 1) == origin + '/') ||
            (url == sr_origin || url.slice(0, sr_origin.length + 1) == sr_origin + '/') ||
            // or any other URL that isn't scheme relative or absolute i.e relative.
            !(/^(\/\/|http:|https:).*/.test(url));
        }    

        // Django CSRF protection
        function csrfSafeMethod(method) {
          // these HTTP methods do not require CSRF protection
          return (/^(GET|HEAD|OPTIONS|TRACE)$/.test(method));
        }

        // Django CSRF protection
        function getCookie(name) {
          var cookieValue = null;
          if (document.cookie && document.cookie != '') {
            var cookies = document.cookie.split(';');
            for (var i = 0; i < cookies.length; i++) {
              var cookie = jQuery.trim(cookies[i]);
              // Does this cookie string begin with the name we want?
              if (cookie.substring(0, name.length + 1) == (name + '=')) {
                  cookieValue = decodeURIComponent(cookie.substring(name.length + 1));
                  break;
              }
            }
          }
          return cookieValue;
        }

        // Django CSRF protection
        var csrftoken = getCookie('csrftoken');
        $.ajaxSetup({
          beforeSend: function(xhr, settings) {
            if (!csrfSafeMethod(settings.type) && sameOrigin(settings.url)) {
              // Send the token to same-origin, relative URLs only.
              // Send the token only if the method warrants CSRF protection
              // Using the CSRFToken value acquired earlier
              xhr.setRequestHeader("X-CSRFToken", csrftoken);
            }
          }
        });        

        // Handle AJAX autocomplete Search results
        function lookup(inputString) {
          if(inputString.length == 0) {
            $('#suggestions').fadeOut(); // Hide the suggestions box
          } 
          else {
            function onSuccessCallback(result) {
              if(!jQuery.isEmptyObject(result)) {
                var out = '<div id="searchresults" class="list-group">';
                for(category in result) {
                  out = out + '<h4 class="category">'+category+'</h4>';
                  for(record in result[category]) {
                    out = out + '<div class="list-group-item"><div class="list-group-item-heading"><a href="'+result[category][record]['link']+'"><strong>'+result[category][record]['title']+'</strong></a></div>';
                    if(result[category][record].hasOwnProperty('preview'))
                      out = out + '<div class="list-group-item-text">'+result[category][record]['preview']+'</div>';
                    out = out + '</div></div>'
                  }
                }

                $('#suggestions').fadeIn(); // Show the suggestions box
                $('#suggestions').html(out); // Fill the suggestions box
              }
              else {
                // No results
                $('#suggestions').fadeOut(); // Hide the suggestions box
              }              
            }

            // Make the AJAX call
            $.ajax({
                url: "{% url 'search:results' %}",
                type: "POST",
                data: {querystr: inputString},
                success: onSuccessCallback,
                error: defaultErrorCallback
            });
          }
        }  

      function addKnowledgebaseTag() {
          function onSuccessCallback(result) {
              if(!jQuery.isEmptyObject(result)) {
                  $('#flash-message').fadeIn();
                  if(result.success == 1) {
                      // AJAX call returned successful
                      $('#flash-message').html('<div class="alert alert-success">'+result.message+'</div>');
                      $("#kb-tag-title").val("");
                      getKnowledgebaseTags();
                      $('.modal.in').modal('hide');
                  }                    
                  else {
                      // AJAX call returned failed
                      $('#flash-message').html('<div class="alert alert-danger">'+result.message+'</div>');
                      if(result.hasOwnProperty('errors')) { 
                          // iterate through and display form validation errors
                          $.each(result.errors, function(k,v) {
                              $("#id_"+k).closest('div').addClass("has-error");
                              $("#"+k+"-help").html(v);
                          });
                      }                        
                  }
                  setTimeout("$('#flash-message').fadeOut()",2000);
              }            
          }

          // Make the AJAX call
          $.ajax({
              url: "{% url 'knowledgebase:settag' %}",
              type: "POST",
              data: {title: $("#kb-tag-title").val()},
              success: onSuccessCallback,
              error: defaultErrorCallback
          });          
      }

      function getKnowledgebaseTags() {
        // Destroy existing
        $("#tags-listing").html("");

        // onSuccess callback function
        function onSuccessCallback(result) {
            if(!jQuery.isEmptyObject(result)) {
                $('#flash-message').fadeIn();
                if(result.success == 1) {
                    // AJAX call returned successful
                  for(x in result.data.tags) {
                    $("#tags-listing").append('<OPTION value="'+result.data.tags[x].id+'">'+result.data.tags[x].title+'</OPTION>');
                  }
                }                    
                else {
                    // AJAX call returned failed
                    $('#flash-message').html('<div class="alert alert-danger">'+result.message+'</div>');                   
                }
            }            
        }

        // Make the AJAX call
        $.ajax({
            url: "{% url 'knowledgebase:gettags' %}",
            type: "POST",
            success: onSuccessCallback,
            error: defaultErrorCallback
        });         
      }

      function getKnowledgebaseCategories() {
        // Destroy existing
        $("#categories-listing").html("");

        // onSuccess callback function
        function onSuccessCallback(result) {
            if(!jQuery.isEmptyObject(result)) {
                $('#flash-message').fadeIn();
                if(result.success == 1) {
                    // AJAX call returned successful
                  for(x in result.data.categories) {
                    $("#categories-listing").append('<OPTION value="'+result.data.categories[x].id+'">'+result.data.categories[x].title+'</OPTION>');
                  }
                }                    
                else {
                    // AJAX call returned failed
                    $('#flash-message').html('<div class="alert alert-danger">'+result.message+'</div>');                   
                }
            }            
        }

        // Make the AJAX call
        $.ajax({
            url: "{% url 'knowledgebase:getcategories' %}",
            type: "POST",
            success: onSuccessCallback,
            error: defaultErrorCallback
        });         
      }    

      function addKnowledgebaseCategory() {
          function onSuccessCallback(result) {
              if(!jQuery.isEmptyObject(result)) {
                  $('#flash-message').fadeIn();
                  if(result.success == 1) {
                      // AJAX call returned successful
                      $('#flash-message').html('<div class="alert alert-success">'+result.message+'</div>');
                      $("#kb-category-title").val("");
                      getKnowledgebaseCategories();
                      $('.modal.in').modal('hide');
                  }                    
                  else {
                      // AJAX call returned failed
                      $('#flash-message').html('<div class="alert alert-danger">'+result.message+'</div>');
                      if(result.hasOwnProperty('errors')) { 
                          // iterate through and display form validation errors
                          $.each(result.errors, function(k,v) {
                              $("#id_"+k).closest('div').addClass("has-error");
                              $("#"+k+"-help").html(v);
                          });
                      }                        
                  }
                  setTimeout("$('#flash-message').fadeOut()",2000);
              }            
          }

          // Make the AJAX call
          $.ajax({
              url: "{% url 'knowledgebase:setcategory' %}",
              type: "POST",
              data: $('#kb-category-form').serialize(),
              success: onSuccessCallback,
              error: defaultErrorCallback
          });          
      }

      function addKnowledgebaseArticle() {
          function onSuccessCallback(result) {
              if(!jQuery.isEmptyObject(result)) {
                  $('#flash-message').fadeIn();
                  if(result.success == 1) {
                      // AJAX call returned successful
                      $('#flash-message').html('<div class="alert alert-success">'+result.message+'</div>');
                  }                    
                  else {
                      // AJAX call returned failed
                      $('#flash-message').html('<div class="alert alert-danger">'+result.message+'</div>');
                      if(result.hasOwnProperty('errors')) { 
                          // iterate through and display form validation errors
                          $.each(result.errors, function(k,v) {
                              $("#id_"+k).closest('div').addClass("has-error");
                              $("#"+k+"-help").html(v);
                          });
                      }                        
                  }
                  setTimeout("$('#flash-message').fadeOut()",2000);
              }            
          }

          // Make the AJAX call
          $.ajax({
              url: "{% url 'knowledgebase:setarticle' %}",
              type: "POST",
              data: {
                  title: $("#kb-article-title").val(),
                  contents: $("#kb-article-title").val(),
                  category: $("#categories-listing").val(),
              },
              success: onSuccessCallback,
              error: defaultErrorCallback
          });          
      }


      function deleteKnowledgebaseCategory() {
        function onSuccessCallback(result) {
            if(!jQuery.isEmptyObject(result)) {
                $('#flash-message').fadeIn();
                if(result.success == 1) {
                    // AJAX call returned successful
                    $('#flash-message').html('<div class="alert alert-success">'+result.message+'</div>');
                    getKnowledgebaseCategories();
                    $('.modal.in').modal('hide');                   
                }                    
                else {
                    // AJAX call returned failed
                    $('#flash-message').html('<div class="alert alert-danger">'+result.message+'</div>');                     
                }
                setTimeout("$('#flash-message').fadeOut()",2000);
            }            
        }

        // Make the AJAX call
        $.ajax({
            url: "{% url 'knowledgebase:delcategory' %}",
            type: "POST",
            data: {category_id: $('#categories-listing option:selected').val()},
            success: onSuccessCallback,
            error: defaultErrorCallback
        });          
      }

      function deleteKnowledgebaseTag() {
        function onSuccessCallback(result) {
            if(!jQuery.isEmptyObject(result)) {
                $('#flash-message').fadeIn();
                if(result.success == 1) {
                    // AJAX call returned successful
                    $('#flash-message').html('<div class="alert alert-success">'+result.message+'</div>');
                    getKnowledgebaseTags();
                    $('.modal.in').modal('hide');                   
                }                    
                else {
                    // AJAX call returned failed
                    $('#flash-message').html('<div class="alert alert-danger">'+result.message+'</div>');                     
                }
                setTimeout("$('#flash-message').fadeOut()",2000);
            }            
        }

        // Make the AJAX call
        $.ajax({
            url: "{% url 'knowledgebase:deltag' %}",
            type: "POST",
            data: {tag_id: $('#tags-listing').val()},
            success: onSuccessCallback,
            error: defaultErrorCallback
        });          
      }      

        // Customizes modal with specifications
        function buildModal(label, body, saveaction) {
            $('#flash-message').hide();
            $('#mlabel').html(label);
            $('#mbody').html(body);    
            $('#msave').attr('onclick', saveaction);        
            $("#mmodal").modal('show');
        }          

        // Build and display Add Zone modal
        function build_kb_category_modal(action) {
          var modal_title = "Knowledgebase Category";          
          var placeholder = "";
          var category_id = 0;

          switch(action) {
            case 'delete':
              var modal_body = "Are you sure you want to delete the selected Knowledgebase Category?";
              var modal_onclick_action = "deleteKnowledgebaseCategory()";
              break;
            case 'edit':
              placeholder = $("#categories-listing option:selected").text();
              category_id = $("#categories-listing option:selected").val();
            case 'create':
            default:
              var modal_onclick_action = "addKnowledgebaseCategory()";
              var modal_body = ' \
                <form id="kb-category-form"> \
                  <div class="form-group row"> \
                      <label class="control-label col-md-3">Title</label> \
                      <div class="controls col-md-9"> \
                          <input class="form-control" id="kb-category-title" maxlength="100" name="title" type="text" value="'+placeholder+'" /> \
                          <span id="title-help" class="help-block"></span> \
                      </div> \
                  </div> \
                  <input type="hidden" name="category_id" value="'+category_id+'"/> \
                </form>';            
              break;
          }

          buildModal(modal_title, modal_body, modal_onclick_action);            
        }     

        // Build and display Add Zone modal
        function build_kb_tag_modal(action) {
          var modal_title = "Knowledgebase Tag";          
          var placeholder = "";
          var category_id = 0;

          switch(action) {
            case 'delete':
              var modal_body = "Are you sure you want to delete the selected Knowledgebase Tag(s)?";
              var modal_onclick_action = "deleteKnowledgebaseTag()";
              break;
            case 'create':
            default:
              var modal_onclick_action = "addKnowledgebaseTag()";
              var modal_body = ' \
                <form id="kb-category-form"> \
                  <div class="form-group row"> \
                      <label class="control-label col-md-3">Title</label> \
                      <div class="controls col-md-9"> \
                          <input class="form-control" id="kb-tag-title" maxlength="100" name="title" type="text" value="'+placeholder+'" /> \
                          <span id="title-help" class="help-block"></span> \
                      </div> \
                  </div> \
                  <input type="hidden" name="category_id" value="'+category_id+'"/> \
                </form>';            
              break;
          }

          buildModal(modal_title, modal_body, modal_onclick_action);            
        }  



      function addNewsPosting() {
          function onSuccessCallback(result) {
              if(!jQuery.isEmptyObject(result)) {
                  $('#flash-message').fadeIn();
                  if(result.success == 1) {
                      // AJAX call returned successful
                      $('#flash-message').html('<div class="alert alert-success">'+result.message+'</div>');
                  }                    
                  else {
                      // AJAX call returned failed
                      $('#flash-message').html('<div class="alert alert-danger">'+result.message+'</div>');
                      if(result.hasOwnProperty('errors')) { 
                          // iterate through and display form validation errors
                          $.each(result.errors, function(k,v) {
                              $("#id_"+k).closest('div').addClass("has-error");
                              $("#"+k+"-help").html(v);
                          });
                      }                        
                  }
                  setTimeout("$('#flash-message').fadeOut()",2000);
              }            
          }

          // Make the AJAX call
          $.ajax({
              url: "{% url 'news:setnews' %}",
              type: "POST",
              data: {
                  title: $("#news-article-title").val(),
                  body: $("#news-article-contents").val(),
              },
              success: onSuccessCallback,
              error: defaultErrorCallback
          });          
      }

      function delNewsPosting() {
          function onSuccessCallback(result) {
              if(!jQuery.isEmptyObject(result)) {
                  $('#flash-message').fadeIn();
                  if(result.success == 1) {
                      // AJAX call returned successful
                      $('#flash-message').html('<div class="alert alert-success">'+result.message+'</div>');
                  }                    
                  else {
                      // AJAX call returned failed
                      $('#flash-message').html('<div class="alert alert-danger">'+result.message+'</div>');
                      if(result.hasOwnProperty('errors')) { 
                          // iterate through and display form validation errors
                          $.each(result.errors, function(k,v) {
                              $("#id_"+k).closest('div').addClass("has-error");
                              $("#"+k+"-help").html(v);
                          });
                      }                        
                  }
                  setTimeout("$('#flash-message').fadeOut()",2000);
              }            
          }

          // Make the AJAX call
          $.ajax({
              url: "{% url 'news:delnews' %}",
              type: "POST",
              data: {news_id: 3},
              success: onSuccessCallback,
              error: defaultErrorCallback
          });          
      }      


  
     </script>
    {% endblock base_top_js %}
    {% block js %}{% endblock %} 
  </head>
{% endblock head %}

{% block extension_only_content %}{% endblock %}

{% block body %}
  <body style="padding-top: 70px; padding-bottom: 70px">
    <!-- BEGIN HEADER -->
    {% block header_nav %}
      <!-- BEGIN TOP NAVIGATION BAR -->
      <div class="navbar navbar-default navbar-fixed-top">
        <div class="container">

    <div class="navbar-header">
      <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="{% url 'apps.dashboard.views.index' %}" style="font-size: 24px; color: #ffffff">Cybercon</a>
    </div>


          <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
      <ul class="nav navbar-nav">
        <li class="active"><a href="#">Admin Dashboard</a></li>
        <li><a href="{% url 'companies:index' %}">Companies</a></li>
        <li><a href="{% url 'services:index' %}">Services</a></li>
      </ul>



            <!-- BEGIN TOP NAVIGATION MENU -->              
            <ul class="nav navbar-nav pull-right">
              <!-- BEGIN USER LOGIN DROPDOWN -->
              <li class="dropdown">
                <a href="#" class="dropdown-toggle" data-toggle="dropdown"><span>{{ user.get_full_name }}&nbsp;</span><i class="fa fa-angle-down"></i></a>
                <ul class="dropdown-menu">
                  <li><a href="{% url 'contacts:detail' user.id %}"><i class="fa fa-user"></i> My Profile</a></li>
                  <li class="divider"></li>
                  <li><a href="/logout/"><i class="fa fa-key"></i> Log Out</a></li>
                </ul>
              </li>
              <!-- END USER LOGIN DROPDOWN -->
            </ul>
          </div>



            <!-- END TOP NAVIGATION MENU --> 
          </div>
        </div>
      </div>
      <!-- END TOP NAVIGATION BAR -->
    {% endblock %}
    <!-- END HEADER -->

    <div class="container">
      <div class="row">
        <div class="col-md-3 preview-module">
          Alerts
        </div>
        <div class="col-md-3 preview-module" style="border-left: 1px solid black; border-right: 1px solid black">
          News
        </div>
        <div class="col-md-3 preview-module" style="border-right: 1px solid black">
          Tickets
        </div>      
        <div class="col-md-3 preview-module">
          Orders
        </div>      
      </div>
    </div>

    <!-- BEGIN BODY CONTAINER -->
    <div class="container">
      <!-- BEGIN HEADER -->
      {% block page_header %}
      <div class="row">
        <div class="col-md-12">
          <h3 class="page-title">{% block heading %}Admin Portal <small>Dashboard</small>{% endblock %}</h3>
          <ul class="page-breadcrumb breadcrumb">
            <li>
              <i class="fa fa-home"></i>
              <a href="{% url 'apps.dashboard.views.index' %}">Home</a> 
            </li>
            {% block breadcrumbs %}
              <li>Dashboard</li>
            {% endblock %}
          </ul>
        </div>
      </div>
      {% endblock %}
      <!-- END HEADER -->

      <!-- BEGIN BODY CONTENT -->
      <div class="row">
        <div class="col-md-12">
          <input type="text" class="form-control" /><br />
          <div id="flash-message"></div>
          <div class="well">


        <div>
          <h3>Networks</h3>
          <form action="{% url 'ip:setnetwork' 0 %}" method="POST" class="form-horizontal form-bordered" id="company-add-form">
            {% csrf_token %}
            <table class="table table-striped table-bordered table-hover" id="company-profile-form-table">
              {% for field in networkaddressform %}   
                <tr class="form-group">
                  <td><label class="control-label">{{ field.label_tag }}</label></td>
                  <td>   
                    <div class="controls{% if field.errors %} error{% endif %}">
                      {{ field|addcss:"form-control" }}
                      {% if field.errors %}<span class="help-inline">{{ field.errors }}</span>{% endif %}
                    </div>         
                  </td>   
                    </tr>       
                {% endfor %}    
              </table>                          
          </form>
          <div class="form-actions">
              <div class="row">
                  <div class="col-md-12">
                      <div class="col-md-offset-3 col-md-9">
                          <button type="submit" class="btn btn-primary" onclick="addCompany()"><i class="fa fa-plus"></i> Submit</button>                          
                      </div>
                  </div>
              </div>
          </div>             
        </div>




        <div>
          <h3>Companies</h3>
          <form action="{% url 'companies:set' 0 %}" method="POST" class="form-horizontal form-bordered" id="company-add-form">
            {% csrf_token %}
            <table class="table table-striped table-bordered table-hover" id="company-profile-form-table">
              {% for field in companyform %}   
                <tr class="form-group">
                  <td><label class="control-label">{{ field.label_tag }}</label></td>
                  <td>   
                    <div class="controls{% if field.errors %} error{% endif %}">
                      {{ field|addcss:"form-control" }}
                      {% if field.errors %}<span class="help-inline">{{ field.errors }}</span>{% endif %}
                    </div>         
                  </td>   
                    </tr>       
                {% endfor %}    
              </table>                          
          </form>
          <div class="form-actions">
              <div class="row">
                  <div class="col-md-12">
                      <div class="col-md-offset-3 col-md-9">
                          <button type="submit" class="btn btn-primary" onclick="addCompany()"><i class="fa fa-plus"></i> Submit</button>                          
                      </div>
                  </div>
              </div>
          </div>          
        </div>








            
            <!-- BEGIN BACKEND BODY -->
            <div class="form-group">
              <label class="control-label col-md-3">News</label>
              <div class="controls col-md-9">

                <div class="row">
                  <label class="control-label col-md-3">Title</label>
                  <input type="text" class="form-control" name="title" id="news-article-title" /><br />
                </div>

                <div class="row">
                  <label class="control-label col-md-3">Contents</label>
                  <TEXTAREA class="form-control col-md-12" id="news-article-contents"></TEXTAREA>
                </div>
            </div>

              <div class="form-actions">
                  <div class="row">
                      <div class="col-md-12">
                          <div class="col-md-offset-3 col-md-9">
                              <button type="submit" class="btn btn-primary" onclick="addNewsPosting()"><i class="fa fa-plus"></i> Submit</button>                          
                          </div>
                      </div>
                  </div>
              </div>                
            </div>            
            <!-- END BACKEND BODY -->            


<br /><br /><br /><br />





            <!-- BEGIN BACKEND BODY -->
            <div class="form-group">
              <label class="control-label col-md-3">Knowledgebase</label>
              <div class="controls col-md-9">

                <div class="row">
                  <label class="control-label col-md-3">Category</label>
                  <a onclick="build_kb_category_modal('create')">Create</a> - <a onclick="build_kb_category_modal('edit')">Edit</a> - <a onclick="build_kb_category_modal('delete')">Delete</a>
                  <select id="categories-listing" class="form-control col-md-9" autocomplete="off"></select>
                </div>

                <div class="row">
                  <label class="control-label col-md-3">Tag(s)</label>
                  <a onclick="build_kb_tag_modal('create')">Create</a> - <a onclick="build_kb_tag_modal('delete')">Delete</a>
                  <select multiple="multiple" id="tags-listing" class="form-control col-md-9" autocomplete="off"></select>
                </div>

                <div class="row">
                  <label class="control-label col-md-3">Title</label>
                  <input type="text" class="form-control" name="title" id="kb-article-title" /><br />
                </div>

                <div class="row">
                  <label class="control-label col-md-3">Contents</label>
                  <TEXTAREA class="form-control col-md-12" id="kb-article-contents"></TEXTAREA>
                </div>
            </div>

              <div class="form-actions">
                  <div class="row">
                      <div class="col-md-12">
                          <div class="col-md-offset-3 col-md-9">
                              <button type="submit" class="btn btn-primary" onclick="addKnowledgebaseArticle()"><i class="fa fa-plus"></i> Submit</button>                          
                          </div>
                      </div>
                  </div>
              </div>                
            </div>            
            <!-- END BACKEND BODY -->

          </div>
        </div>
      </div>
      <!-- END BODY CONTENT -->
    </div>
    <!-- END BODY CONTAINER --> 

    <!-- BEGIN FOOTER -->
    {% block footer_nav %}
     <div class="navbar navbar-fixed-bottom" style="background-color: #f5f5f5">
      <div class="container">
        <div class="col-md-8">
          &copy; 2013 <a href="http://cybercon.com" alt="Cybercon">Cybercon</a> All rights reserved.
        </div>
        <div class="col-md-4">
          <span style="background-color: lightgray; float: right; display: block; text-decoration: none; cursor: pointer; margin-top: 6px; font-size: 16px; padding: 0 6px 0 6px"><i class="fa fa-angle-up"></i></span>
        </div>
      </div>
     </div>
    {% endblock footer_nav %}
    <!-- END FOOTER -->

    <!-- BEGIN MODAL -->
    <div id="mmodal" class="modal fade in" role="dialog" aria-labelledby="model-label" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <!-- BEGIN MODAL HEADER -->
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true"></button>
                    <h3 id="mlabel"></h3>
                </div>
                <!-- END MODAL HEADER -->
                <!-- BEGIN MODAL BODY -->
                <div class="modal-body">
                    <div id="flash-message"></div>
                    <div class="well" id="mbody"></div>
                </div>
                <!-- END MODAL BODY -->
                <!-- BEGIN MODAL FOOTER -->
                <div class="modal-footer" id="modalfooter">
                    <button class="btn btn-default" data-dismiss="modal" aria-hidden="true">Close</button>
                    <button id="msave" class="btn btn-primary">Ok</button>
                </div>
                <!-- END MODAL FOOTER -->
            </div>
        </div>
    </div>
    <!-- END MODAL -->    

    <!-- BEGIN JAVASCRIPTS -->
    {% block base_bottom_js %}
     <script src="//ajax.googleapis.com/ajax/libs/jqueryui/1.10.4/jquery-ui.min.js"></script>     
     <script src="//netdna.bootstrapcdn.com/bootstrap/3.1.1/js/bootstrap.min.js"></script>
    {% endblock base_bottom_js %} 
    <!-- END JAVASCRIPTS --> 
  </body>
{% endblock body %}

{% block end_html %}
 </html>
{% endblock end_html %}